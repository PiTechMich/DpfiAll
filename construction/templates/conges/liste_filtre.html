{% extends 'index.html' %}

{% block picontent %}

<h2>Filtrer les Congés</h2>

    <form method="GET">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Filtrer</button>
    </form>

    <h3>Liste des Congés</h3>
    <table>
        <thead>
            <tr>
                <th>Nom</th>
                <th>Type de Congé</th>
                <th>Année</th>
                <th>Statut</th>
                <th>Date de début</th>
                <th>Date de fin</th>
            </tr>
        </thead>
        <tbody>
            {% for conge in conges %}
            <tr>
                <td>{{ conge.utilisateur.nom }}</td>
                <td>{{ conge.type_conge.nom }}</td>
                <td>{{ conge.annee }}</td>
                <td>{{ conge.statut }}</td>
                <td>{{ conge.date_debut }}</td>
                <td>{{ conge.date_fin }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6">Aucun congé trouvé avec les filtres sélectionnés.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endblock %}